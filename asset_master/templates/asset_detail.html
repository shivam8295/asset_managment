{% load static%}

{% include 'base_dashboard.html' %}
{% block content %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.2/min/dropzone.min.css">

<!-- Include FontAwesome CSS (you can change the version if needed) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

<!-- Alert JS -->
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css"/>
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/default.min.css"/>
<!-- Alert JS -->


<script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.2/min/dropzone.min.js"></script>


<style>
    h2 {
        text-align: center;
    }

    .navbar-second a svg {
        margin-right: 5px;
    }

    .navbar-second a:hover {
        color: #6A1B9A;
    }

    .active {
        color: #6A1B9A;
        border-bottom: 3px solid #6A1B9A;
    }

    .avaibtn  {
        color: #007E33;
        background-color: #CCF4DC;
        box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.16);
        border: 1px solid #CCCCCC;
        border-radius: 5px;
        height: 40px;
        width: 270px;
        padding: 7px;
    }


    .tab {
  overflow: hidden;
  border: 1px solid #ccc;
  padding: 0 30px;
  /* background-color: #f1f1f1; */
}

/* Style the buttons inside the tab */
.tab button {
  background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 16px;
  transition: 0.3s;
  font-size: 17px;
}

/* Change background color of buttons on hover */
.tab button:hover {
  border: none;
}

/* Create an active/current tablink class */
.tab button.active {
  border-bottom:2px solid #6A1B9A;
  color: #6A1B9A;
}

/* Style the tab content */
.tabcontent {
  display: none;
  border: 1px solid #ccc;
  border-top: none;
}

/* Set initial display for the first tab content */
#London {
  display: block;
}
button.tablinks {
        float: left;
        padding: 12px;
        color: #7C7C7C;
        text-decoration: none;
        font-size: 15px;
        font-weight: 600;
        text-transform: uppercase;
        display: flex;
        align-items: center;
        
    }
    button.tablinks svg {
        margin-right: 5px;
    }
    a{
        color: #6A1B9A;
    }

    button.ody:hover {
        background:#6A1B9A;
    }


    table {
        width: 100%;
        border-collapse: separate; /* Set border-collapse to separate */
        border-spacing: 0; /* Remove the space between cells */
        margin-top: 20px;
        border: 1px solid #F7EDFD;
        border-radius:10px ;

    }

    th, td {
        border: 1px solid #F7EDFD;
        padding: 8px;
        text-align: left;
    
    }
    .table thead th {
        border: none;
         color: #4C555D;
         font-size: 15px;
         font-weight: 600;
         width: 300px;
    }

    th {
        background-color: #F7EDFD;
        text-transform: uppercase;
        color: #4C555D;
        border: none; /* Remove border for th */
    }
    td {
        text-transform: capitalize;
        font-size: 14px;
    }

    /* Style for checkboxes */
    .checkbox-column {
        text-align: center;
    }
    th, td {
        border: none;
    }
    .assebutton{
        display: flex;
        gap: 10px;
    }
    td.tbname {
        color: #006FC8;
        text-transform:uppercase;
        text-decoration: none;
    }
    td.tbname a {
        text-decoration: none;
    }

    .pagination{
        float:right;
    }

    .searchiconbtn button {
        width: 92px;
        height: 40px;
    }

    .select-button {
        border: 1px solid #CCCCCC;
        color: #7C7C7C !important;
        background-color: #FFFFFF;
        border-radius: 5px;
        padding: 0 6px;
        font-size: inherit;
        height: 40px;
    }
    span.select2-selection.select2-selection--single {
        height:38px !important;
    }


</style>

<section class="assetdetail" >

    <button onclick="goBack()" style="border: none; margin-bottom: 10px; background-color: transparent;">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: #6A1B9A;transform:msFilter">
            <path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm5 11h-5v4l-5-5 5-5v4h5v2z"></path></svg></button>
    <div class="assetheaderbuttones">
        
<!-- Modal section -->
<!-- Button trigger modal -->

        
        <div class="uploadboxy">


                {% for m in assets %}
                    
                    {% if m.image%}
                        <img src="{%if m.image %}{{m.image.url}}{%endif%}"
                        alt="Upload Image"
                        style="width: 25%;height: 100%;border-radius: 5px;">
                      {%else%}
                        <form action="" class="dropzone" id="imageUpload" enctype="multipart/form-data">
                            <p style="margin-top: 40%; color: #6A1B9A;cursor: pointer;">Upload</p>
                        </form>
                    {%endif%}
            
            
            <div class="uploadsubbtn">
                <h1>{{m.description}}</h1>
                <div class="avaibtn">
                        {% if m.asset_status == "available" %}
                        Available
                        {% endif %} 
                        {% if m.asset_status == "rented_out" %}
                        On Order
                        {% endif %} 
                        {% if m.asset_status == "sent_for_repair" %}
                        Sent for Repair and Maintenance
                        {% endif %} 
                </div>
                {% for m in assets %}
                {% if m.asset_status == "available" %}
                <div class="editbtn">
                    <div  class="editicon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z" />
                        </svg>
                        <a style = "color: #6A1B9A;" href="/edit-asset-detail/{{m.id}}/">Edit</a></div>
                    <div class="editicon" onclick="clone_asset({{m.id}})"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z" />
                        </svg>Clone</div>
                    <div class="editicon">
                        <form method="post">
                            {%csrf_token%}
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
                                <path
                                    d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z" />
                            </svg><a type="submit" href="/asset-delete/{{m.id}}/">Delete</a>
                        </form>
                        </div>
                        <div onclick="soldAsset({{m.id}})" class="editicon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-slash-circle"
                            viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                            <path d="M11.354 4.646a.5.5 0 0 0-.708 0l-6 6a.5.5 0 0 0 .708.708l6-6a.5.5 0 0 0 0-.708z" />
                        </svg>Sell</div>

                </div>
                {% else %}
                <div></div>
                {% endif %}
                {% endfor %}

            </div>
        </div>
        <div class="assebutton" style="gap: 20px; display: flex;">
            {% for m in assets %}               
                {% if m.image%}
                    <button  onclick="removeImage({{m.id}})">Remove image</button>
                {%endif%}
            {%endfor%}
            <button onclick="generate_asset_pdf({{m.id}})">Print Label</button>
            <button>History</button>

            {% if m.asset_status == 'rented_out' and m.confirm_order == False %}
            <button id='addToOrderbutton' onclick="removeFromOrder({{m.id}})">Remove from cart</button>

            {% elif m.asset_status == 'rented_out' and m.confirm_order == True %}
            <button id='addToOrderbutton'>Asset allocatted to order</button>

            {% elif m.asset_status == 'sent_for_repair' and m.repair_type == 30 %}
            <button id='addToOrderbutton' disabled>Sent For R & M (Int.)</button>

            {% elif m.asset_status == 'sent_for_repair' and m.repair_type == 20 %}
            <button id='addToOrderbutton' disabled>Sent For R & M (Ext.)</button> 

            {% elif m.asset_status == 'available' and m.confirm_order == False %}
            {% comment %} onclick="sendToRepair(m.id) {% endcomment %}
            <button id='addToOrderbutton' data-toggle="modal" data-target="#exampleModal">Send to Repair</button>
            {% comment %} <button id='addToOrderbutton' onclick="addToOrder(m.id)">Add to Order</button> {% endcomment %}
            <button id='addToOrderbutton' data-toggle="modal" 
                data-target=".bd-example-modal-lg" 
                onclick="receiveData(1, '/get-group-wise-asset-detail/', {{m.id}})">Add to Order
            </button>
            {% endif %}
        </div>
    </div>
</section>

<div class="navbar-navi tab">
    <button class="tablinks active" onclick="openCity(event, 'London')"><svg
        xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-list"
        viewBox="0 0 16 16">
        <path
            d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
        <path
            d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z" />
    </svg>Details</button>
    <button class="tablinks" onclick="openCity(event, 'Paris')"><svg xmlns="http://www.w3.org/2000/svg"
        width="16" height="16" fill="currentColor" class="bi bi-card-text" viewBox="0 0 16 16">
        <path
            d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
        <path
            d="M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z" />
    </svg>Orders</button>
    <button class="tablinks" onclick="openCity(event, 'Tokyo')"> <svg xmlns="http://www.w3.org/2000/svg"
        width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
        <path
            d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z" />
        <path
            d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z" />
    </svg>Repairs</button>
  </div>

<div id="London" class="tabcontent active">
    
  <section class="assetdetail-detail">

    <div class="assetdetail-containing">

        <div class="assetdetail-contain mt-0">
            <h1><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#6A1B9A"
                    class="bi bi-file-earmark-bar-graph" viewBox="0 0 16 16">
                    <path
                        d="M10 13.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v6zm-2.5.5a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1zm-3 0a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-1z" />
                    <path
                        d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z" />
                </svg>Core Information</h1>
                
            <div class="detialasset mt-4">
                <div class="detialasset-name">
                    <p>category</p>
                    <div class="bndname">
                      {% if m.category == nan %}
                        --
                      {% else %}
                      {{ m.category }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Sub Category</p>
                    <div class="bndname">
                        {% if m.sub_category == nan or m.sub_category == "" %}
                        --
                        {% else %}
                        {{ m.sub_category}}
                        {% endif %}            
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>brand</p>
                    <div class="bndname">
                        {{m.brand}}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>model number</p>
                    <div class="bndname">
                      {% if m.model_no == nan %}
                        --
                      {% else %}
                      {{ m.model_no }}
                      {% endif %}</div>
                      

                </div>
                <div class="detialasset-name">
                    <p >serial number</p>
                    <div class="bndname">
                        {{m.serial_no}}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>vintage</p>
                    <div class="bndname">
                        {% if m.age == nan %}
                        --
                      {% else %}
                      {{ m.age }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>asset tag</p>
                    <div class="bndname">
                        {% if m.asset_tag == nan or m.asset_tag == 'nan' %}
                        --
                      {% else %}
                      {{ m.asset_tag }}
                      {% endif %}
                    </div>

                </div>
                
                <div class="detialasset-name">
                    <p>Storage area </p>
                    <div class="bndname">
                      {% if m.area == nan or m.area == "" or m.area == 'nan' %}
                        --
                      {% else %}
                      {{ m.area}}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>FC No.</p>
                    <div class="bndname">
                      {% if m.fc_no == '' or m.fc_no == "nan" or m.fc_no == nan%}
                        --
                      {% else %}
                      {{ m.fc_no}}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>last service date</p>
                    <div class="bndname">
                        {% if m.last_service_date == nan %}
                        --
                      {% else %}
                      {{ m.last_service_date | date:'d-m-Y' }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>upcoming service date</p>
                    <div class="bndname">
                        {% if m.upcoming_service_date == nan %}
                        --
                      {% else %}
                      {{ m.upcoming_service_date| date:'d-m-Y' }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Box Number</p>
                    <div class="bndname">
                        {% if m.box_number == nan or m.box_number == "" %}
                        --
                        {% else %}
                        {{ m.box_number}}
                        {% endif %}            
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Owner</p>
                    <div class="bndname">
                        {% if m.owner == nan or m.owner == "" %}
                        --
                        {% else %}
                        {{ m.owner}}
                        {% endif %}            
                    </div>

                </div>

            </div>
            <div class="detialasset-name" style="width: 98%;margin: 0 auto;gap: 55px;">
                <p style="width: 500px;">description</p>
                <div class="bndname" style="width: 100%;">
                  {% if m.fc_no == nan or m.description == "" %}
                    --
                  {% else %}
                  {{ m.description}}
                  {% endif %}
                </div>

            </div>

        </div>
         {% endfor %}

         <br>
         <div class="assetdetail-contain mt-0">
            <h1><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#6A1B9A" class="bi bi-distribute-horizontal" viewBox="0 0 16 16" style="margin-right: 5px;">
                <path fill-rule="evenodd" d="M14.5 1a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 1 0v-13a.5.5 0 0 0-.5-.5m-13 0a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 1 0v-13a.5.5 0 0 0-.5-.5"/>
                <path d="M6 13a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z"/>
              </svg>UoM (Unit of Measurement)</h1>
        {% for m in assets %}
            <div class="detialasset mt-4">
                <div class="detialasset-name">
                    <p>Length</p>
                    <div class="bndname">
                        {% if m.length == nan or m.length == "" %}
                        --
                      {% else %}
                      {{ m.length }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Breadth</p>
                    <div class="bndname">
                        {% if m.breadth == nan or  m.breadth == "" %}
                        --
                      {% else %}
                      {{ m.breadth }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Height</p>
                    <div class="bndname">
                        {% if m.height == nan or  m.height == "" %}
                        --
                      {% else %}
                      {{ m.height }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Width</p>
                    <div class="bndname">
                        {% if m.width == nan or m.width == "" %}
                        --
                      {% else %}
                      {{ m.width }}
                      {% endif %}
                    </div>

                </div>
            </div>
        {% endfor %}
        </div>

         <br>
         <div class="assetdetail-contain mt-0">
            <h1><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#6A1B9A" class="bi bi-person-lines-fill" viewBox="0 0 16 16" style="margin-right: 5px;">
                <path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5m.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1z"/>
              </svg> Product Engineering Support Info</h1>
            <div class="detialasset mt-4">
                {% for m in assets%}
                <div class="detialasset-name">
                    <p>Warranty Period</p>
                    <div class="bndname">
                        {% if m.warranty_period == nan or m.warranty_period == "" %}
                        --
                      {% else %}
                      {{ m.warranty_period }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Under AMC</p>
                    <div class="bndname">
                        <select class="form-select" onchange="setUnderAMC({{m.id}})" name="boolean_field1" aria-label="Default select example">
                            <option disabled selected {% if m.under_amc == None %}selected{% endif %}>SELECT</option>
                            <option value="1" {% if m.under_amc == True %}selected{% endif %}>YES</option>
                            <option value="2" {% if m.under_amc == False %}selected{% endif %}>NO</option>
                          </select>
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>AMC Date</p>
                    <div class="bndname">
                        {% if m.amc_date == nan or m.amc_date == "" %}
                        --
                      {% else %}
                      {{ m.amc_date | date:'d-m-Y' }}
                      {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        <br>
         <div class="assetdetail-contain mt-0">
            <h1><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#6A1B9A" class="bi bi-upc-scan" viewBox="0 0 16 16" style="margin-right: 5px;">
                <path d="M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5M.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5m15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5M3 4.5a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0zm2 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0z"/>
              </svg> Asset In and Out Tracking</h1>
            <div class="detialasset mt-4">
                {% for m in assets %}
                <div class="detialasset-name">
                    <p>Storage Warehouse Number</p>
                    <div class="bndname">
                        {% if m.storage_warehouse_number == nan or m.storage_warehouse_number == "" %}
                        --
                      {% else %}
                      {{ m.storage_warehouse_number }}
                      {% endif %}
                    </div>

                </div>
                {% comment %} <div class="detialasset-name">
                    <p>Availability</p>
                    <div class="bndname">
                        <select class="form-select" name="boolean_field2" onchange="setAvailability({{m.id}})" aria-label="Default select example">
                            <option disabled {% if m.availability == None %}selected{% endif %}>SELECT</option>
                            <option value="1" {% if m.availability == True %}selected{% endif %}>YES</option>
                            <option value="2" {% if m.availability == False %}selected{% endif %}>NO</option>
                          </select>
                    </div>

                </div> {% endcomment %}
                <div class="detialasset-name">
                    <p>Outward Date</p>
                    <div class="bndname">
                        {% if m.outward_date == nan or m.outward_date == "" %}
                        --
                      {% else %}
                      {{ m.outward_date | date:'d-m-Y' }}
                      {% endif %}
                    </div>
                </div>
                <div class="detialasset-name">
                    <p>Outward Remarks</p>
                    <div class="bndname">
                        {% if m.outward_remarks == nan or m.outward_remarks == "" %}
                        --
                      {% else %}
                      {{ m.outward_remarks }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Inward Date</p>
                    <div class="bndname2">
                        {% if m.inward_date == nan or m.inward_date == "" %}
                        --
                      {% else %}
                      {{ m.inward_date | date:'d-m-Y' }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Inward Remarks</p>
                    <div class="bndname">
                        {% if m.inward_remarks == nan or m.inward_remarks == "" %}
                        --
                      {% else %}
                      {{ m.inward_remarks }}
                      {% endif %}
                    </div>
                </div>
                {% endfor %}

            </div>
           

        </div>
        <div class="assetdetail-contain">
            <h1><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                    style="fill: #6A1B9A;transform: msFilter">
                    <path
                        d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8 8a2 2 0 0 0 2.828 0l7.172-7.172a2 2 0 0 0 0-2.828l-8-8zM7 9a2 2 0 1 1 .001-4.001A2 2 0 0 1 7 9z">
                    </path>
                </svg>Purchase</h1>

            <div class="detialasset mt-4">
            {% for m in assets %}
                <div class="detialasset-name">
                    <p>Vendor</p>
                    <div class="bndname">
                        {% if m.vendor == nan or m.vendor == "" %}
                        --
                      {% else %}
                      {{ m.vendor }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Purchased On </p>
                    <div class="bndname">
                        {% if m.purchased_on == nan or m.purchased_on == "" %}
                        --
                      {% else %}
                      {{ m.purchased_on| date:'d-m-Y' }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Cost Price </p>
                    <div class="bndname">
                        {% if m.cost_price == nan or m.cost_price == "" %}
                        --
                      {% else %}
                      {{ m.cost_price }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Tax Rate
                    </p>
                    <div class="bndname">
                        {% if m.tax_rate == nan or m.tax_rate == "" %}
                        --
                      {% else %}
                      {{ m.tax_rate }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Depreciated Value
                    </p>
                    <div class="bndname">
                        {% if m.depricated_value == nan or m.depricated_value == "" %}
                        --
                      {% else %}
                      {{ m.depricated_value }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Created on</p>
                    <div class="bndname">
                        {% if m.created_on == nan or m.created_on == "" %}
                        --
                      {% else %}
                      {{ m.created_on| date:'d-m-Y' }}
                      {% endif %}
                    </div>

                </div>
                {% endfor %}
            </div>
        </div>
        <div class="assetdetail-contain">
            <h1><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                    style="fill: #6A1B9A;">
                    <path
                        d="M15.999 8.5h2c0-2.837-2.755-4.131-5-4.429V2h-2v2.071c-2.245.298-5 1.592-5 4.429 0 2.706 2.666 4.113 5 4.43v4.97c-1.448-.251-3-1.024-3-2.4h-2c0 2.589 2.425 4.119 5 4.436V22h2v-2.07c2.245-.298 5-1.593 5-4.43s-2.755-4.131-5-4.429V6.1c1.33.239 3 .941 3 2.4zm-8 0c0-1.459 1.67-2.161 3-2.4v4.799c-1.371-.253-3-1.002-3-2.399zm8 7c0 1.459-1.67 2.161-3 2.4v-4.8c1.33.239 3 .941 3 2.4z">
                    </path>
                </svg>Pricing</h1>

            <div class="detialasset mt-4">
                {% for m in assets %}
                <div class="detialasset-name">
                    <p>Rental Pricing

                    </p>
                    <div class="bndname">
                        {% if m.rental_pricing == nan or m.rental_pricing == "" %}
                        --
                      {% else %}
                      {{ m.rental_pricing }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Rent Collected
                    </p>
                    <div class="bndname">
                        {% if m.rent_collected == nan or m.rent_collected == "" %}
                        --
                      {% else %}
                      {{ m.rent_collected }}
                      {% endif %}
                    </div>

                </div>
                <div class="detialasset-name">
                    <p>Available for Sale </p>
                    <div class="bndname">
                        {% if m.available_for_sale == nan or m.available_for_sale == "" %}
                        --
                      {% else %}
                      {{ m.available_for_sale }}
                      {% endif %}
                    </div>

                </div>

            {% endfor %}
            </div>


        </div>
        <div class="assetdetail-contain">
            <h1><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                    style="fill: #6A1B9A;">
                    <path d="M12 2h-1v9H2v1a10 10 0 0 0 17.07 7.07A10 10 0 0 0 12 2z"></path>
                </svg>Usage Information</h1>

            <div class="detialasset mt-4">
                {% for m in assets%}
                <div class="detialasset-name">
                    <p>Asset Utilization


                    </p>
                    <div class="bndname">
                        {% if m.asset_utilization == nan or m.asset_utilization == "" %}
                        --
                      {% else %}
                      {{ m.asset_utilization }}
                      {% endif %}
                    </div>

                </div>
                {% endfor %}
            </div>


        </div>
    </div>
    <div class="leftfile">
        <div class="assetdetail-containing mt-3">
            <div class="filebtny">
                <h1><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        style="fill: #6A1B9A;">
                        <path
                            d="M19.903 8.586a.997.997 0 0 0-.196-.293l-6-6a.997.997 0 0 0-.293-.196c-.03-.014-.062-.022-.094-.033a.991.991 0 0 0-.259-.051C13.04 2.011 13.021 2 13 2H6c-1.103 0-2 .897-2 2v16c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V9c0-.021-.011-.04-.013-.062a.952.952 0 0 0-.051-.259c-.01-.032-.019-.063-.033-.093zM16.586 8H14V5.414L16.586 8zM6 20V4h6v5a1 1 0 0 0 1 1h5l.002 10H6z">
                        </path>
                        <path d="M8 12h8v2H8zm0 4h8v2H8zm0-8h2v2H8z"></path>
                    </svg>Files</h1>
                {% for m in assets %}
                    <button id="uploadButton" onclick="document.getElementById('attachfile').click()">+ Attach file</button>
                    <input type="file" id="attachfile" onchange="uploadFile({{m.id}})" style="display: none;">
                {% endfor %}
            </div>
            <div class="navbar-navi">

                <div class="navbar-second" id="navbar2" style="padding: 0; border: none;">
                    <a id="ASSET DOCUMENTS" class="active" > ASSET
                        DOCUMENTS</a>
                    <!-- <a  id="GROUP DOCUMENTS"  onclick="setActive('navbar2','GROUP DOCUMENTS')">GROUP DOCUMENTS</a>   -->

                </div>
            </div>
            <div class="filint" id="attachFile">
                {% for m in attached_files %}               
                    {% if m.attached_file  %}
                    <div class="commrntline">
                        <li >{{m.attached_file}}</li>
                        <div>
                       <a href="{{m.attached_file.url}}" download ><li ></li>Download</a>    
                       <button id="deletefile" style="background: transparent; border: none; color: red;" onclick="delete_attached_file({{m.id}}, m.asset_id.id)">Delete</button>    
                    </div>       
                </div>       
                    {% else %}
                        <p>No File Found</p>
                    {%endif%}
                {% endfor %}

            </div>


        </div>
        <div class="assetdetail-containing mt-3">
            <div class="filebtny">
                <h1><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        style="fill: #6A1B9A;">
                        <path
                            d="M4 18h2v4.081L11.101 18H16c1.103 0 2-.897 2-2V8c0-1.103-.897-2-2-2H4c-1.103 0-2 .897-2 2v8c0 1.103.897 2 2 2z">
                        </path>
                        <path
                            d="M20 2H8c-1.103 0-2 .897-2 2h12c1.103 0 2 .897 2 2v8c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2z">
                        </path>
                    </svg>Comments

                </h1>


            </div>
            <div class="filint">
            {% for m in comments%}
            
                <div class="commrntline">
                    <li style="width:60%;">{{m.comment}}</li>
                    <li >{{m.date_time}}</li>
                    
                </div>                    
            {%endfor%}
        </div>

            {% for m in assets %}
                <div class="addcmtbtn">
                    <textarea name="comment" id="commentText" cols="30" rows="10" style="height: 40px; background-color: #fff; border-radius: 5px; border: none; padding: 5px; width: 70%; border: 1px solid #CCCCCC;
                "></textarea>
                    <button onclick="update_comment_again({{m.id}})" value="">Add comment</button>
                </div>
            {% endfor %}

        </div>
    </div>



  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Select Repair Type</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        {% for m in assets %}
        <div class="modal-body" style="display:flex; justify-content:center; gap:20px;" >
            <button type="button" class="btn" data-dismiss="modal" onclick="sendToExteranlRepair({{m.id}})" style="background:#6A1B9A; color:white;">External Repair</button>
            <button type="button" class="btn" data-dismiss="modal" onclick="sendToInteranlRepair({{m.id}})" style="background:#6A1B9A; color:white;">Internal Repair</button>
        </div>
        {% endfor %}
        <div class="modal-footer">
          {% comment %} <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button> {% endcomment %}
        </div>
      </div>
    </div>
  </div>
    
  <!-- Modal end here -->


  



<!-- Modal 2 start here -->

  
<div class="modal fade bd-example-modal-lg"  role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width:1030px;">
      <div class="modal-content" style="padding:30px;">
  
      <!-- --------modal content start here------ -->
  
        <h1>These accessories are also available for this asset</h1>
      <section class="assest-container-table-modal p-0" >
        {% for m in assets %}
        <div class="asset-tablebtn">
            <div class="searchiconbtn" >
                    <input name="q" id="search_field" type="text" placeholder="Search.." value="{% if query_params_q %} {{query_params_q}} {% endif %}" style = "padding-left: 10px; border-radius: 5px;">   
                    <select name="q" id="secondDropdown" name="second_dropdown" style="display: none; height:10%;">
                        <!-- The options will be populated dynamically -->
                    </select>
                    <select class='select-button' id="dropdown" name="filter_type">
                        <option  disabled {% if query_params_filter_value == '' or query_params_filter_value is None  %} selected {% endif %} value='none' >--Select--</option>
                        <option {% if query_params_filter_value == 'brand' %} selected {% endif %} value="brand">Brand</option>
                        <option {% if query_params_filter_value == 'model_no' %} selected {% endif %} value="model_no">Model No.</option>
                        <option {% if query_params_filter_value == 'model_no' %} selected {% endif %} value="category">Category</option>
                    </select>
                <button id='searchButton' onclick="receiveData(1, '/get-group-wise-asset-detail/', {{m.id}})" type='submit'>Search</button>
                <span><button onclick="clearSearch(event, 'search_field', 'dropdown', 'secondDropdown')">Clear</button></span>
            </div>
        </div>
        {% endfor %}
  
          <table class="table-modal">
              <thead>
                  <tr>
                      <th>Status</th>
                      <th>CATEGORY </th>
                      <th>Description</th>
                      <th>Brand</th>
                      <th>Model No</th>
                      <th>SERIAL No</th>
                      <th>Owner</th>                    
                  </tr>
              </thead>
              <tbody id="assetTableBody">
                  <!-- The table body will be populated dynamically with JavaScript -->
              </tbody>
          </table>
          <div class="pagidis">
              <div></div>
              <div class="pagination">
                  <span id="paginationLinks" class="step-links">
                      <!-- Pagination links will be dynamically added here -->
                  </span>
              </div>
              <div class="card text-center" style="border: none;">
              </div>
              
          </div>
      </section>
  
  
      <!-- ---------modal content end here------- -->
      </div>
    </div>
  </div>
<!-- Modal 2 end here -->




</section>

        </div>

        <div id="Paris" class="tabcontent">
            <section  class="assetdetail-detail " >
        
                <div class="assetdetail-containing">
                   
                    <div class="assetdetail-contain mt-0">
                        <h1><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#6A1B9A" class="bi bi-journal" viewBox="0 0 16 16">
                            <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"/>
                            <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"/>
                          </svg>Order Details</h1>
                        <div class="order-navisection mt-4">
                            <div class=" naviorder-sec">
        
                                
                                
                                <div class="dropdown">
                                    <button class=" dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" style="height: 40px; text-transform: uppercase;    border: 1px solid #CCCCCC;
                                    color: #7C7C7C !important;
                                    background-color: #FFFFFF;
                                    border-radius: 5px;
                                    padding: 0 20px;  ">
                                      Filter
                                    </button>
                                    <ul class="dropdown-menu">
                                      <li><a class="dropdown-item" href="#">Order Number</a></li>
                                      <li><a class="dropdown-item" href="#">Order Date</a></li>
                                      <li><a class="dropdown-item" href="#">Order Status</a></li>
                                      <li><a class="dropdown-item" href="#">Order Delivery Date</a></li>
                                      <li><a class="dropdown-item" href="#">Payment Status</a></li>
                                      <li><a class="dropdown-item" href="#">Order Location</a></li>
                                  
                                    </ul>
                                  </div>
                                      
            
                        </div>
                        <div class="filint">
                            <svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" fill="#A1A1A1" class="bi bi-journal-text" viewBox="0 0 16 16">
                                <path d="M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"/>
                                <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"/>
                                <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"/>
                              </svg>
                            <p>This Asset is not present in any Order.

                            </p>
            
                        </div> 
                       
                        
            
                    </div>
                   
                   
                  
                </div>
                
            
                </div>
            
            </section>
          </div>

          <div id="Tokyo" class="tabcontent">
            <section  class="assetdetail-detail " >
        
                <div class="assetdetail-containing">
                   
                    <div class="assetdetail-contain mt-0">
                        <h1><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#6A1B9A" class="bi bi-journal" viewBox="0 0 16 16">
                            <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"/>
                            <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"/>
                          </svg>Repairs</h1>
                        <div class="order-navisection mt-4">
                            <div class=" naviorder-sec">
        
                                
                                
                                <div class="dropdown">
                                    <button class=" dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" style="height: 40px; text-transform: uppercase;    border: 1px solid #CCCCCC;
                                    color: #7C7C7C !important;
                                    background-color: #FFFFFF;
                                    border-radius: 5px;
                                    padding: 0 20px;  ">
                                      Filter
                                    </button>
                                    <ul class="dropdown-menu">
                                      <li><a class="dropdown-item" href="#">Order Number</a></li>
                                      <li><a class="dropdown-item" href="#">Order Date</a></li>
                                      <li><a class="dropdown-item" href="#">Order Status</a></li>
                                      <li><a class="dropdown-item" href="#">Order Delivery Date</a></li>
                                      <li><a class="dropdown-item" href="#">Payment Status</a></li>
                                      <li><a class="dropdown-item" href="#">Order Location</a></li>
                                  
                                    </ul>
                                  </div>
                                      
            
                        </div>
                        <div class="filint">
                            <svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" fill="#A1A1A1" class="bi bi-journal-text" viewBox="0 0 16 16">
                                <path d="M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"/>
                                <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"/>
                                <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"/>
                              </svg>
                            <p>This Asset is not present in any Repairs.

                            </p>
            
                        </div> 
                       
                        
            
                    </div>
                   
                   
                  
                </div>
                
            
                </div>
            
            </section>
          </div> 



<!-- Scrpit -->

          {% comment %} <script>
            function goBack() {
                // Replace the URL in the window.location.href with your desired link
                window.location.href = "/asset-list/";
            }
            </script> {% endcomment %}

        <script>
            function openCity(evt, cityName) {
              var i, tabcontent, tablinks;
              tabcontent = document.getElementsByClassName("tabcontent");
              for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
              }
              tablinks = document.getElementsByClassName("tablinks");
              for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
              }
              document.getElementById(cityName).style.display = "block";
              evt.currentTarget.className += " active";
            }
            </script>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script>
            document.getElementById('deleteButton').addEventListener('click', function() {
                axios({
                    method: 'delete',
                    url: '/asset-delete/{{m.id}}/',
                    headers: {
                        'X-CSRFToken': '{{ csrf_token }}'  // Include CSRF token in the headers
                    }
                })
                .then(function (response) {
                    console.log('Asset deleted successfully:', response);
                    window.location.href = '/asset-list/';
                })
                .catch(function (error) {
                    console.error('Error deleting asset:', error);
                });
            });
        </script>




<script>
    Dropzone.options.imageUpload = {
        paramName: "image", 
        maxFilesize: 2,
        addRemoveLinks: true,
        dictDefaultMessage: "<span style='font-size: 14px; color:#6A1B9A; ' > Upload </span>",
        };
</script>

<script src="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>

    {% if messages %}
        {% for msg in messages %}
            <script>
               alertify.set('notifier','position', 'top-right');
               alertify.success('{{msg}}');
            </script>
        {% endfor %}
    {% endif %}

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>   
  function removeImage(id) {
        $.ajax({
            type: "POST",
            url: "/delete-asset-detail-image/", 
            data:{"id":id, "csrfmiddlewaretoken":"{{csrf_token}}"},
            success: function(response) {
                location.reload(); 
            }
          
        });
    }
   </script>




<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
    function clone_asset(id){
    console.log(id,"id")
    $.ajax({
            type: "POST",
            url: "/clone-asset/", 
            data: { id: id, 'csrfmiddlewaretoken': '{{ csrf_token }}'  },
            success: function(response) {
                window.location.href = "/asset-list/" 
                 
            }    
});
        
    }
</script>


<script>
function generate_asset_pdf(id) {
        $.ajax({
        type: "GET",
        url: "/export-to-pdf/",
        data: { id: id },
        success: function(response) {
            var blob = new Blob([response], { type: 'application/pdf' });
            var url = window.URL.createObjectURL(blob);
            window.open(url);
        },
        error: function(xhr, status, error) {
            console.error(error);
            alert('Failed to generate PDF.');
        }
    });
}
</script>


<script>
function uploadFile(id) {
    var fileInput = document.getElementById('attachfile');
    var selectedFile = fileInput.files[0];

    if (selectedFile) { 
        var formData = new FormData();
        formData.append('file', selectedFile);
        formData.append('id', id);

        $.ajax({
            type: "POST",
            url: "/attach-file-to-asset/",
            data: formData,
            processData: false,
            contentType: false,
            headers: {
                "X-CSRFToken": "{{ csrf_token }}"
            },
            success: function(response) {
                window.location.reload()

            },
            error: function(xhr, status, error) {
                window.location.reload()
            }
        });
    }
}
</script>


<script>
    function update_comment(id) {
        var comment = $('#commentText').val(); 
        $.ajax({
            type: "POST",
            url: "/edit-asset-detail-comment/", 
            data: {
                'id': id,
                'comment': comment,
                'csrfmiddlewaretoken': '{{ csrf_token }}'  
            },
            success: function(response) {
                window.location.reload()

            },
            error: function(xhr, status, error) {
                console.error("Error updating comment:", error);
            }
        });
    }
</script>

<script>
    function update_comment_again(id) {
        var comment = $('#commentText').val(); 
        $.ajax({
            type: "POST",
            url: "/edit-asset-detail-comment-again/", 
            data: {
                'id': id,
                'comment': comment,
                'csrfmiddlewaretoken': '{{ csrf_token }}'  
            },
            success: function(response) {
                window.location.reload()

            },
            error: function(xhr, status, error) {
                console.error("Error updating comment:", error);
            }
        });
    }
</script>


<script>
    function delete_attached_file(id, asset_id) {
    let spinner = ` <div id="spinner">
            <div class="d-flex justify-content-center">
                <div class="spinner-border" role="status">
                  <span class="visually-hidden"></span>
                </div>
              </div>
        </div> `
        $('#attachFile').html(spinner)
    $.ajax({
        type: "POST",
        url: "/delete-attached-file/",
        data: {
            'id': id,
            'asset_id': asset_id,
            'csrfmiddlewaretoken': '{{ csrf_token }}'
        },
        success: function (response) {
            setTimeout(function () {
                window.location.reload(); 
            }, 1000);      
        },
        error: function (xhr, status, error) {
            console.error("Error updating comment:", error);
        }
    });
}
</script>


<script>   
    function clone_asset(id) {
          $.ajax({
              type: "POST",
              url: "/clone-asset/", 
              data:{"id":id, "csrfmiddlewaretoken":"{{csrf_token}}"},
              success: function(response) {
                  window.location.href = "/asset-list/" 
                   
              },
              error: function(xhr, status, error) {
                  console.error(error);
                  alert('Failed to generate PDF.');
              }
            
          });
      }
     </script>

     <script>
        function setAvailability() {
            var selectedValue = $('select[name="boolean_field2"]').val();
            $.ajax({
                type: 'POST',
                url: '/asset-detail-set-availability/', 
                data: {
                    csrfmiddlewaretoken: '{{ csrf_token }}',
                    id: id,
                    boolean_field: selectedValue
                },
                success: function(response) {
                    alertify.set('notifier','position', 'top-right');
                    alertify.success('Availability edited successfully');
                },
                error: function(xhr, status, error) {
                    console.error('Error:', error);
                }
            });
        }
    </script>

     <script>
        function setUnderAMC(id) {
            var selectedValue = $('select[name="boolean_field1"]').val();
            $.ajax({
                type: 'POST',
                url: '/asset-detail-set-under-amc/', 
                data: {
                    csrfmiddlewaretoken: '{{ csrf_token }}',
                    id: id,
                    boolean_field: selectedValue
                },
                success: function(response) {
                    alertify.set('notifier','position', 'top-right');
                    alertify.success('Under AMC edited successfully');
                    setTimeout(function () {
                        window.location.reload(); 
                    }, 500);  
                },
                error: function(xhr, status, error) {
                    console.error('Error:', error);
                }
            });
        }
    </script>


     <script>
        function setAssetStatus(id) {
            var selectedValue = $('select[name="set_asset_status"]').val();
            $.ajax({
                type: 'POST',
                url: '/asset-detail-set-asset-status/', 
                data: {
                    csrfmiddlewaretoken: '{{ csrf_token }}',
                    id: id,
                    set_asset_status: selectedValue
                },
                success: function(response) {
                    alertify.set('notifier','position', 'top-right');
                    alertify.success('Asset Status updated');
                    setTimeout(function(){
                        window.location.reload()
                    }, 1500)
                },
                error: function(xhr, status, error) {
                    console.error('Error:', error);
                }
            });
        }
    </script>

    <script>
        function soldAsset(id) {
            $.ajax({
                type: 'POST',
                url: '/asset-list-sold/', 
                data: {
                    csrfmiddlewaretoken: '{{ csrf_token }}',
                    id: id,
                },
                success: function(response) {
                    alertify.set('notifier','position', 'top-right');
                    alertify.success('Asset status set to old');
                    window.location.href = "/sold-list/" 

                },
                error: function(xhr, status, error) {
                    console.error('Error:', error);
                }
            });
        }
    </script>


    <script>
        function addToOrder(asset_id) {
            $.ajax({
                type: 'POST',
                url: '/add-to-order-asset/', 
                data: {
                    csrfmiddlewaretoken: '{{ csrf_token }}',
                    asset_id: asset_id,
                },
                success: function(response) {
                    goBack()
                    alertify.set('notifier','position', 'top-right');
                    alertify.success('Asset added to order...');

                },
                error: function(xhr, status, error) {
                    console.error('Error:', error);
                }
            });
        }
    </script>



    <script>
        function removeFromOrder(asset_id) {
            $.ajax({
                type: 'POST',
                url: '/remove-from-order-asset/', 
                data: {
                    csrfmiddlewaretoken: '{{ csrf_token }}',
                    asset_id: asset_id,
                },
                success: function(response) {
                    goBack()
                    alertify.set('notifier','position', 'top-right');
                    alertify.success('Asset removed from order...');

                },
                error: function(xhr, status, error) {
                    console.error('Error:', error);
                }
            });
        }
    </script>



    <script>
        function sendToExteranlRepair(asset_id) {
            console.log(asset_id,"asset_id")
            $.ajax({
                type: 'POST',
                url: '/send-to-external-repair-asset/', 
                data: {
                    csrfmiddlewaretoken: '{{ csrf_token }}',
                    asset_id: asset_id,
                },
                success: function(response) {
                    
                    alertify.set('notifier','position', 'top-right');
                    alertify.success('Sent For Repair');
                    setTimeout(function () {
                        window.location.reload(); 
                    }, 1000); 

                },
                error: function(xhr, status, error) {
                    console.error('Error:', error);
                }
            });
        }
    </script>



    <script>
        function sendToInteranlRepair(asset_id) {
            $.ajax({
                type: 'POST',
                url: '/send-to-internal-repair-asset/', 
                data: {
                    csrfmiddlewaretoken: '{{ csrf_token }}',
                    asset_id: asset_id,
                },
                success: function(response) {
                    
                    alertify.set('notifier','position', 'top-right');
                    alertify.success('Sent For Repair');
                    setTimeout(function () {
                        window.location.reload(); 
                    }, 1000); 

                },
                error: function(xhr, status, error) {
                    console.error('Error:', error);
                }
            });
        }
    </script>



{% for m in assets %}
    <script>
        var orderStatus =  m.asset_status ;
        if (orderStatus === 'rented_out') {
            document.getElementById('addToOrderbutton').style.display = 'none';
        }
    </script>
{% endfor %}







{% comment %}-------------------- JavaScript for modal content------------------------- {% endcomment %}
    
{% for m in assets %}
<script>
    function receiveData(page = 1, url = '/get-group-wise-asset-detail/', id) {
        var filterType = document.getElementById('dropdown').value;
            var filterValue = document.getElementById('secondDropdown').value;
            url += `?page=${page}`;

            if (filterType !== 'none' && filterValue) {
                // Append filter parameters if they exist
                url += `&filter_type=${filterType}&filter_value=${filterValue}`;
            }

            var searchFieldValue = document.getElementById('search_field').value.trim();
            if (searchFieldValue) {
                // Append search field value to the URL
                url += `&search_field=${searchFieldValue}`;
            }


        $.ajax({
            url: url,
            type: 'GET',
            dataType: 'json',
            data: { id: id },
            success: function (data) {
                // Call the function to update the HTML table with received data
            
                if (data.rented_status){
                    window.location.href = "/asset-list/" 
                }
                else{
                    updateAssetTable(data.results);
                    updatePaginationLinks(data);
                }
                
            },
            error: function (xhr, status, error) {
                console.error('Error:', error);
            }
        });
    }

    function updateAssetTable(results) {
        var tableBody = document.getElementById('assetTableBody');
        tableBody.innerHTML = ''; 

        for (var i = 0; i < results.length; i++) {

            var buttonText = 'Add';
            var buttonColor = '#00A3C7';
            var buttonDisabled = ''; 

            if (results[i].add_to_order === true && results[i].asset_status==='rented_out') {
                buttonText = 'Booked';
                buttonColor = '#37A80D'; 
                fontWeight = '700';

            }
            else if (results[i].confirm_order === false && results[i].asset_status==='sent_for_repair') {
                buttonText = 'On_Repair';
                buttonColor = '#ffc107'; 
                fontWeight = '700';
                buttonDisabled = 'disabled';  

            }

            var buttonId = 'addButtonId_' + results[i].id;
            var row = '<tr>' +
                '<td><button id="' + buttonId + '" style="background: none; font-weight:700; border: none; color: ' + buttonColor + ';" onclick="addAssetToThisOrder(' + results[i].id + ', \'' + buttonId + '\')" ' + buttonDisabled + ' >' + buttonText + '</button></td>' +
                '<td>' + (results[i].category === 'nan' ? '--' : results[i].category) + '</td>' +
                '<td>' + results[i].description + '</td>' +
                '<td>' + results[i].brand + '</td>' +
                '<td>' + results[i].model_no + '</td>' +
                '<td>' + results[i].serial_no + '</td>' +
                '<td>' + results[i].owner + '</td>' +
                '</tr>';

            tableBody.innerHTML += row;
        }
    }

    function updatePaginationLinks(data) {
        var paginationLinks = document.getElementById('paginationLinks');
        paginationLinks.innerHTML = '';

        if (data.previous) {
            var previousPage = new URL(data.previous);
            var page = previousPage.searchParams.get('page');
            // Check if the 'page' parameter is present, and if not, set it to 1
            page = page ? page : 1;
            paginationLinks.innerHTML += '<a href="javascript:void(0);" class="paginate-link" data-page="' + page + '">Previous  </a>';
        }

        if (data.next) {
            var nextPage = new URL(data.next);
            var page = nextPage.searchParams.get('page');
            paginationLinks.innerHTML += '<a href="javascript:void(0);" class="paginate-link" data-page="' + page + '" style="margin-left:20px;">    Next </a>';
        }
    }

    // Attach click event listener to handle pagination
    document.getElementById('paginationLinks').addEventListener('click', function (event) {
        if (event.target.classList.contains('paginate-link')) {
            receiveData(event.target.getAttribute('data-page'));
        }
    });

    document.getElementById('searchButton').addEventListener('click', function () {
        receiveData(1, '/get-group-wise-asset-detail/', {{m.id}});
    });


</script>




<script>
function addAssetToThisOrder(asset_id, buttonId) {
        $.ajax({
        type: "POST",
        url: "/add-to-order-asset/",
        data: { "asset_id": asset_id,
                "csrfmiddlewaretoken":"{{csrf_token}}"
            },
        success: function(response) {
            var addButton = document.getElementById(buttonId);
            if (addButton) {

                addButton.innerText = 'Booked';
                addButton.style.color = 'green';  
                addButton.style.background = 'none';   
                addButton.style.border = 'none';    
                addButton.disabled = true;  
            }
        },
        error: function(xhr, status, error) {
            console.error(error);
            
        }
    });
}
</script>
{% endfor %}


{% comment %}--------------------- End modal for javascript---------------------------- {% endcomment %}





<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
<script>
    $(document).ready(function() {
        $('#dropdown').change(function() {
            var selectedValue = $(this).val();
            if (selectedValue !== 'none') {
                $.ajax({
                    type: 'GET',
                    url: '/asset-list-acc-search/', 
                    data: {
                        'selected_value': selectedValue
                    },
                    success: function(data) {
                        // Update the second dropdown with fetched data
                        $('#secondDropdown').empty().show();
                        $('#secondDropdown').append('<option value="">--Select--</option>');
                        $.each(data, function(key, value) {
                            $('#secondDropdown').append('<option value="' + value + '">' + value + '</option>');
                        });
                        $('#secondDropdown').select2({
                            placeholder: 'Search...',                             
                        });
                        $('#search_field').hide();
                        $('#secondDropdown').select2({
                            dropdownAutoWidth: true,
                            width:"300px",
                        });
                    },
                    error: function(xhr, status, error) {
                    }
                });
            } else {
                // If the default option is selected, hide the second dropdown and show the input dropdown
                $('#secondDropdown').hide();
                $('#search_field').show();
            }
        });
    });
</script>




<script>
    function clearSearch(event, mySearchField, dropdown, secondDropdown ) {
        event.preventDefault();
        document.getElementById(mySearchField).value=''; 
        document.getElementById(dropdown).value = 'none';
        document.getElementById(secondDropdown).value = '';
        $('#secondDropdown').empty().hide();
        $('#secondDropdown').append('<option value="">--Select--</option>');
        
    }
</script>



{% endblock content %}